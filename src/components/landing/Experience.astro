---
import type { HTMLAttributes } from "astro/types";
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

type Props = HTMLAttributes<"div"> & {
  start: string;
  end: string;
  jobTitle: string;
  company: string;
  description: string;
  icon: ImageMetadata;
};

const {
  start,
  end,
  jobTitle,
  company,
  description,
  icon,
  class: className,
  ...props
} = Astro.props;
---

<div
  class="flex flex-col md:flex-row md:justify-between gap-1 px-3 py-2"
  {...props}
>
  <div class="flex flex-col md:flex-row gap-2 w-full md:items-center">
    <div class="flex w-[40px] h-[40px] items-center justify-center shrink-0">
      <Image
        src={icon}
        alt={company}
        class="w-full h-full object-cover"
        width={80}
        height={80}
      />
    </div>
    <div class="flex flex-col w-full">
      <div class="flex flex-col md:flex-row justify-between flex-grow">
        <p class="text-[18px] font-sans font-medium source-sans-3-bold">
          {jobTitle}
          <span class="source-serif-4-light-italic">at</span>
          {company}
        </p>
        <p class="text-[15px] italic shrink-0">{start} - {end}</p>
      </div>
      <p class="text-[15px] font-sans font-light source-sans-3-light">
        {description}
      </p>
    </div>
  </div>
</div>
